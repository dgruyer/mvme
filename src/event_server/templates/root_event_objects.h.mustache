R"(#ifndef __MVME_ROOT_EXPORT_GUARD_{{header_guard}}__
#define __MVME_ROOT_EXPORT_GUARD_{{header_guard}}__

// Contains declarations of the Experiment, Event and Module base classes
#include <mvme_root_event_objects.h>

//R__ADD_INCLUDE_PATH(/home/florian/src/build-mvme2-debug)
//R__ADD_LIBRARY_PATH(/home/florian/src/build-mvme2-debug)
//R__LOAD_LIBRARY(/home/florian/src/build-mvme2-debug/libmvme_root_event.so)

{{#vme_events}}
namespace {{name}}_modules
{
{{#modules}}
    struct {{struct_name}}: public Module
    {
        {{struct_name}}(): Module("{{name}}", "{{title}}") {}
{{#data_members}}
        {{type}} {{name}}[{{size}}];
{{/data_members}}
        ClassDef({{struct_name}}, 1);
    };
{{/modules}}
} // end namespace {{name}}_modules

struct {{struct_name}}: public Event
{
    {{struct_name}}(): Event("{{name}}", "{{title}}")
    {
{{#modules}}
        AddModule(&{{var_name}});
{{/modules}}
    }
{{#modules}}
    {{event_name}}_modules::{{struct_name}} {{var_name}};
{{/modules}}
    ClassDef({{struct_name}}, 1);
};
{{/vme_events}}

struct {{exp_struct_name}}: public Experiment
{
    {{exp_struct_name}}();
{{#vme_events}}
    {{struct_name}} {{var_name}};
{{/vme_events}}
    ClassDef({{exp_struct_name}}, 1);
};

#endif /* __MVME_ROOT_EXPORT_GUARD_{{header_guard}}__ */
{{!
vim:ft=cpp
}})"
